<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ±äº¬7æ—¥æ—…éŠæ”»ç•¥</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;400;600;900&family=Shippori+Mincho:wght@400;700&family=Zen+Kaku+Gothic+New:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --ink: #1a1a2e;
    --vermillion: #c0392b;
    --gold: #d4a854;
    --mist: #f0ece6;
    --paper: #faf7f2;
    --sakura: #e8b4c0;
    --teal: #2c6e7a;
    --deep: #0d1b2a;
    --accent: #e74c3c;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--deep);
    font-family: 'Zen Kaku Gothic New', sans-serif;
    color: var(--ink);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* HERO */
  .hero {
    position: relative;
    height: 100vh;
    min-height: 600px;
    background: var(--deep);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
    background: 
      radial-gradient(ellipse at 20% 50%, rgba(192,57,43,0.15) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 20%, rgba(44,110,122,0.2) 0%, transparent 50%),
      radial-gradient(ellipse at 60% 80%, rgba(212,168,84,0.1) 0%, transparent 40%);
  }

  .hero-lines {
    position: absolute;
    inset: 0;
    background-image: 
      repeating-linear-gradient(0deg, transparent, transparent 59px, rgba(255,255,255,0.03) 60px),
      repeating-linear-gradient(90deg, transparent, transparent 59px, rgba(255,255,255,0.03) 60px);
  }

  .torii-svg {
    position: absolute;
    right: -30px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0.06;
    width: 500px;
    height: 600px;
  }

  .hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: 20px;
  }

  .jp-title {
    font-family: 'Shippori Mincho', serif;
    font-size: clamp(4rem, 12vw, 10rem);
    color: rgba(255,255,255,0.08);
    letter-spacing: 0.3em;
    line-height: 1;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    white-space: nowrap;
    pointer-events: none;
    animation: fadeIn 2s ease forwards;
  }

  .hero-eyebrow {
    font-size: 0.75rem;
    letter-spacing: 0.4em;
    color: var(--gold);
    text-transform: uppercase;
    margin-bottom: 24px;
    opacity: 0;
    animation: slideUp 1s 0.3s ease forwards;
  }

  .hero-title {
    font-family: 'Noto Serif TC', serif;
    font-size: clamp(2.5rem, 7vw, 5.5rem);
    font-weight: 900;
    color: #fff;
    line-height: 1.1;
    margin-bottom: 20px;
    opacity: 0;
    animation: slideUp 1s 0.5s ease forwards;
  }

  .hero-title span {
    color: var(--vermillion);
  }

  .hero-sub {
    font-size: 1rem;
    color: rgba(255,255,255,0.5);
    letter-spacing: 0.15em;
    margin-bottom: 48px;
    opacity: 0;
    animation: slideUp 1s 0.7s ease forwards;
  }

  .hero-cta {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    background: var(--vermillion);
    color: #fff;
    padding: 16px 40px;
    font-size: 0.9rem;
    letter-spacing: 0.2em;
    text-decoration: none;
    cursor: pointer;
    border: none;
    font-family: inherit;
    transition: all 0.3s ease;
    opacity: 0;
    animation: slideUp 1s 0.9s ease forwards;
  }

  .hero-cta:hover {
    background: #a93226;
    transform: translateY(-2px);
  }

  .scroll-hint {
    position: absolute;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    color: rgba(255,255,255,0.3);
    font-size: 0.7rem;
    letter-spacing: 0.3em;
    animation: bounce 2s infinite;
  }

  .scroll-hint::after {
    content: '';
    width: 1px;
    height: 40px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.3), transparent);
  }

  /* MAIN APP */
  .app-wrapper {
    background: var(--paper);
    position: relative;
  }

  /* NAV */
  .sticky-nav {
    position: sticky;
    top: 0;
    z-index: 100;
    background: var(--deep);
    border-bottom: 1px solid rgba(255,255,255,0.05);
    display: flex;
    align-items: center;
    padding: 0 24px;
    gap: 4px;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .sticky-nav::-webkit-scrollbar { display: none; }

  .nav-brand {
    font-family: 'Noto Serif TC', serif;
    color: var(--gold);
    font-size: 1rem;
    font-weight: 900;
    white-space: nowrap;
    margin-right: 20px;
    padding: 16px 0;
  }

  .day-tab {
    padding: 16px 18px;
    font-size: 0.78rem;
    letter-spacing: 0.1em;
    color: rgba(255,255,255,0.4);
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.25s;
    border-bottom: 2px solid transparent;
    background: none;
    border-left: none;
    border-right: none;
    border-top: none;
    font-family: inherit;
  }

  .day-tab:hover { color: rgba(255,255,255,0.8); }

  .day-tab.active {
    color: #fff;
    border-bottom-color: var(--vermillion);
  }

  /* LAYOUT */
  .content-grid {
    display: flex;
    flex-direction: column;
  }

  /* ITINERARY PANEL */
  .itinerary-panel {
    padding: 40px;
  }

  .day-header {
    display: flex;
    align-items: baseline;
    gap: 16px;
    margin-bottom: 32px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(0,0,0,0.08);
  }

  .day-number {
    font-family: 'Noto Serif TC', serif;
    font-size: 4rem;
    font-weight: 900;
    color: rgba(0,0,0,0.06);
    line-height: 1;
  }

  .day-info h2 {
    font-family: 'Noto Serif TC', serif;
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 4px;
  }

  .day-info p {
    font-size: 0.85rem;
    color: rgba(0,0,0,0.4);
    letter-spacing: 0.1em;
  }

  .day-theme-badge {
    margin-left: auto;
    background: var(--vermillion);
    color: #fff;
    font-size: 0.7rem;
    padding: 6px 16px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  /* STOPS */
  .stops-list {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .stop-item {
    display: flex;
    gap: 20px;
    position: relative;
    cursor: pointer;
  }

  .stop-item:not(:last-child)::after {
    content: '';
    position: absolute;
    left: 19px;
    top: 44px;
    bottom: -1px;
    width: 1px;
    background: rgba(0,0,0,0.08);
  }

  .stop-timeline {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 8px;
  }

  .stop-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--paper);
    border: 2px solid rgba(0,0,0,0.2);
    transition: all 0.25s;
    margin-top: 6px;
  }

  .stop-item:hover .stop-dot,
  .stop-item.active .stop-dot {
    background: var(--vermillion);
    border-color: var(--vermillion);
    box-shadow: 0 0 0 4px rgba(192,57,43,0.15);
  }

  .stop-time {
    font-size: 0.65rem;
    color: rgba(0,0,0,0.3);
    letter-spacing: 0.05em;
    margin-top: 6px;
    white-space: nowrap;
  }

  .stop-card {
    flex: 1;
    background: #fff;
    border: 1px solid rgba(0,0,0,0.06);
    padding: 20px 24px;
    margin-bottom: 12px;
    transition: all 0.25s;
    border-left: 3px solid transparent;
  }

  .stop-item:hover .stop-card,
  .stop-item.active .stop-card {
    border-left-color: var(--vermillion);
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  }

  .stop-card-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 8px;
  }

  .stop-name {
    font-family: 'Noto Serif TC', serif;
    font-size: 1.05rem;
    font-weight: 700;
    color: var(--ink);
  }

  .stop-type-badge {
    font-size: 0.65rem;
    padding: 3px 10px;
    letter-spacing: 0.1em;
    background: var(--mist);
    color: rgba(0,0,0,0.4);
    white-space: nowrap;
    margin-left: 10px;
  }

  .stop-desc {
    font-size: 0.82rem;
    color: rgba(0,0,0,0.5);
    line-height: 1.6;
    margin-bottom: 12px;
  }

  .stop-meta {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }

  .stop-meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.72rem;
    color: rgba(0,0,0,0.4);
  }

  .stop-meta-item svg {
    width: 12px;
    height: 12px;
    opacity: 0.5;
  }

  .stop-rating {
    color: var(--gold);
    font-weight: 700;
  }

  /* MAP PANEL */
  .map-panel {
    width: 100%;
    height: 520px;
    background: var(--deep);
    overflow: hidden;
    position: relative;
  }

  @media (max-width: 640px) {
    .map-panel { height: 400px; }
  }

  #gmap-iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
  }

  .map-chips {
    position: absolute;
    top: 0; left: 0; right: 0;
    z-index: 10;
    display: flex;
    overflow-x: auto;
    scrollbar-width: none;
    background: var(--deep);
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }

  .map-chips::-webkit-scrollbar { display: none; }

  .map-chip {
    flex-shrink: 0;
    background: none;
    border: none;
    color: rgba(255,255,255,0.45);
    font-size: 0.68rem;
    padding: 9px 14px;
    cursor: pointer;
    white-space: nowrap;
    font-family: inherit;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
    letter-spacing: 0.05em;
  }

  .map-chip:hover { color: rgba(255,255,255,0.85); }
  .map-chip.active { color: #fff; border-bottom-color: var(--vermillion); }

  .map-footer {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 44px;
    background: var(--deep);
    display: flex;
    align-items: center;
    padding: 0 16px;
    gap: 12px;
    border-top: 1px solid rgba(255,255,255,0.06);
  }

  .map-footer-name {
    font-family: 'Noto Serif TC', serif;
    font-size: 0.82rem;
    color: #fff;
    font-weight: 700;
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .map-footer-link {
    font-size: 0.68rem;
    color: var(--gold);
    text-decoration: none;
    white-space: nowrap;
    border-bottom: 1px solid rgba(212,168,84,0.3);
    flex-shrink: 0;
  }

  .map-footer-link:hover { color: #e8c06a; }

  /* DAILY OVERVIEW */
  .overview-strip {
    background: var(--deep);
    padding: 32px 40px;
    display: flex;
    gap: 24px;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .overview-strip::-webkit-scrollbar { display: none; }

  .overview-day {
    flex-shrink: 0;
    width: 160px;
    cursor: pointer;
    transition: transform 0.2s;
  }

  .overview-day:hover { transform: translateY(-3px); }

  .overview-day-num {
    font-size: 0.65rem;
    color: var(--gold);
    letter-spacing: 0.3em;
    margin-bottom: 4px;
  }

  .overview-day-name {
    font-family: 'Noto Serif TC', serif;
    font-size: 1rem;
    color: #fff;
    font-weight: 700;
    margin-bottom: 6px;
  }

  .overview-day-theme {
    font-size: 0.72rem;
    color: rgba(255,255,255,0.3);
    line-height: 1.4;
  }

  .overview-day.active .overview-day-name {
    color: var(--vermillion);
  }

  .overview-divider {
    width: 1px;
    background: rgba(255,255,255,0.05);
    flex-shrink: 0;
  }

  /* TIPS SIDEBAR */
  .tips-section {
    padding: 32px 40px;
    background: #fff;
    border-top: 1px solid rgba(0,0,0,0.06);
    margin-top: 20px;
  }

  .tips-title {
    font-family: 'Noto Serif TC', serif;
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .tips-title::before {
    content: '';
    display: block;
    width: 4px;
    height: 18px;
    background: var(--vermillion);
  }

  .tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
  }

  .tip-card {
    background: var(--mist);
    padding: 14px 18px;
    font-size: 0.8rem;
    color: rgba(0,0,0,0.6);
    line-height: 1.5;
  }

  .tip-card strong {
    display: block;
    color: var(--ink);
    margin-bottom: 4px;
    font-size: 0.82rem;
  }

  /* TRANSPORT LEGEND */
  .transport-row {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    margin-top: 12px;
  }

  .transport-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.72rem;
    color: rgba(0,0,0,0.5);
  }

  .transport-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  /* ANIMATIONS */
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes bounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-8px); }
  }

  #gmap-iframe { display: none; } /* removed */

  #leaflet-map {
    position: absolute;
    top: 38px;
    left: 0; right: 0; bottom: 44px;
  }

  /* Leaflet popup dark style */
  .dark-popup .leaflet-popup-content-wrapper {
    background: #1a1a2e;
    color: #fff;
    border-radius: 2px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.6);
    font-family: 'Zen Kaku Gothic New', sans-serif;
    font-size: 0.82rem;
  }
  .dark-popup .leaflet-popup-tip { background: #1a1a2e; }
  .dark-popup .leaflet-popup-content { margin: 10px 14px; }
  .dark-popup strong { font-family: 'Noto Serif TC', serif; font-size: 0.9rem; }
  .dark-popup small { color: rgba(255,255,255,0.45); }

  .day-note {
    background: var(--deep);
    color: rgba(255,255,255,0.7);
    font-size: 0.8rem;
    padding: 12px 18px;
    margin-bottom: 12px;
    border-left: 3px solid var(--gold);
    letter-spacing: 0.05em;
    line-height: 1.5;
  }

  .accom-banner {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(44,110,122,0.1);
    border: 1px solid rgba(44,110,122,0.3);
    color: var(--teal);
    font-size: 0.75rem;
    padding: 7px 16px;
    margin-bottom: 24px;
    letter-spacing: 0.08em;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .itinerary-panel { padding: 20px; }
    .overview-strip { padding: 20px; }
    .day-number { font-size: 2.5rem; }
  }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
</head>
<body>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-lines"></div>
  <div class="jp-title">æ±äº¬</div>

  <!-- Torii SVG -->
  <svg class="torii-svg" viewBox="0 0 400 500" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="30" y="100" width="340" height="30" fill="white"/>
    <rect x="50" y="70" width="300" height="20" fill="white"/>
    <rect x="60" y="90" width="30" height="30" rx="0" fill="white"/>
    <rect x="310" y="90" width="30" height="30" fill="white"/>
    <rect x="70" y="130" width="20" height="350" fill="white"/>
    <rect x="310" y="130" width="20" height="350" fill="white"/>
    <rect x="55" y="58" width="60" height="12" rx="6" fill="white"/>
    <rect x="285" y="58" width="60" height="12" rx="6" fill="white"/>
  </svg>

  <div class="hero-content">
    <p class="hero-eyebrow">âœ¦ å®Œæ•´æ—…éŠæ”»ç•¥ âœ¦</p>
    <h1 class="hero-title">æ±äº¬<span>ä¸ƒæ—¥</span><br>æ·±åº¦æ¼«éŠ</h1>
    <p class="hero-sub">å‚³çµ±èˆ‡ç¾ä»£çš„å®Œç¾äº¤è Â· 2024â€“2025</p>
    <button class="hero-cta" onclick="document.getElementById('app').scrollIntoView({behavior:'smooth'})">
      <span>é–‹å§‹è¦åŠƒæ—…ç¨‹</span>
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
    </button>
  </div>
  <div class="scroll-hint">SCROLL</div>
</section>

<!-- APP SECTION -->
<div id="app" class="app-wrapper">

  <!-- Overview Strip -->
  <div class="overview-strip" id="overviewStrip"></div>

  <!-- Sticky Nav -->
  <nav class="sticky-nav" id="stickyNav">
    <span class="nav-brand">æ±äº¬ Â· 7æ—¥</span>
  </nav>

  <!-- Main Content -->
  <div class="content-grid">
    <!-- Itinerary -->
    <div class="itinerary-panel" id="itineraryPanel"></div>

    <!-- Map -->
    <div class="map-panel">
      <div class="map-chips" id="mapChips"></div>
      <div id="leaflet-map"></div>
      <div class="map-footer">
        <div class="map-footer-name" id="mapFooterName">â€”</div>
        <a class="map-footer-link" id="mapFooterLink" href="#" target="_blank">åœ¨ Google Maps å°èˆª â†—</a>
      </div>
    </div>
  </div>

  <!-- Tips -->
  <div class="tips-section">
    <div class="tips-title">æ—…è¡Œå°è²¼å£«</div>
    <div class="tips-grid">
      <div class="tip-card"><strong>ğŸš‡ æŠ¼ä¸Šäº¤é€š</strong>ä½æŠ¼ä¸Šè¶…æ–¹ä¾¿ï¼åŠè—é–€ç·šç›´é”æ¶‰è°·ã€è¡¨åƒé“ï¼›éƒ½ç‡Ÿæ·ºè‰ç·šåˆ°æ·ºè‰ã€éŠ€åº§åªéœ€10åˆ†é˜ã€‚</div>
      <div class="tip-card"><strong>ğŸ  è¡Œæå¯„æ”¾</strong>å¤–å‡ºæ™‚å¯å°‡å¤§è¡Œæå¯„æ”¾æ°‘å®¿ï¼Œæˆ–åˆ©ç”¨è»Šç«™ç½®ç‰©æ«ƒï¼ˆã‚³ã‚¤ãƒ³ãƒ­ãƒƒã‚«ãƒ¼ï¼‰ï¼Œæ¯æ—¥Â¥300ï½700ã€‚</div>
      <div class="tip-card"><strong>ğŸ¦Œ éŒå€‰äº¤é€š</strong>æŠ¼ä¸Šâ†’å“å·â†’å¤§èˆ¹â†’éŒå€‰ï¼Œå»ºè­°è³¼è²·ã€ŒéŒå€‰ãƒ»æ±Ÿä¹‹å³¶ Free Passã€ï¼ˆÂ¥1,640ï¼‰ï¼Œç„¡é™æ­æ±Ÿä¹‹é›»ï¼</div>
      <div class="tip-card"><strong>ğŸ® å¥³åƒ•å’–å•¡</strong>ç§‹è‘‰åŸæœ€æ¨è–¦ @home cafeï¼ˆå¤šå±¤åŒ…å»‚ï¼‰æˆ– Maidreaminï¼Œæ¶ˆè²»å«æœå‹™è²»ç´„Â¥1,500 èµ·ï¼Œæ‹ç…§å¦è¨ˆã€‚</div>
      <div class="tip-card"><strong>ğŸŒ¸ èŠ±ç«å¤§æœƒ</strong>éš…ç”°å·èŠ±ç«å¤§æœƒç´„æ¯å¹´7æœˆæœ€å¾Œä¸€å€‹é€±å…­ï¼Œå»ºè­°æå‰åŠå¹´è¨‚æŠ¼ä¸Šå‘¨é‚Šä½å®¿ï¼Œåœ°é»é»ƒé‡‘ï¼</div>
      <div class="tip-card"><strong>ğŸ› éŒ¢æ¹¯ç¦®å„€</strong>å…¥æµ´å‰å…¨èº«æ´—æ·¨æ‰èƒ½é€²æ± ï¼›åˆºé’éœ€ç¢ºèªå„æ¹¯è¦å®šï¼›æ¯›å·¾ä¸å¯æ³¡é€²æµ´æ§½ã€‚é«”é©—å‰å…ˆæŸ¥é–‹æ”¾æ™‚é–“ã€‚</div>
    </div>
  </div>

</div>

<script>
const ACCOMMODATION = { name: "æŠ¼ä¸Šï¼ˆã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼å‘¨é‚Šï¼‰", lat: 35.7101, lng: 139.8107 };

const ITINERARY = [
  {
    day: 1,
    title: "æŠµé” Ã— é¾œæœ‰",
    theme: "å…¥å¢ƒå®‰é “",
    color: "#c0392b",
    note: "âœˆï¸ æˆç”°æ©Ÿå ´ â†’ æŠ¼ä¸Šæ°‘å®¿ Check-inï¼Œæ•´ç†è¡Œæå¾Œè¼•é¬†é€›ä¸€åœˆ",
    stops: [
      { name: "æˆç”°æ©Ÿå ´", type: "æ©Ÿå ´", time: "ä¾ç­æ©Ÿ", duration: "å…¥å¢ƒæ‰‹çºŒ", desc: "å…¥å¢ƒå¾Œå…ˆåœ¨æ©Ÿå ´è³¼è²· IC å¡ï¼ˆSuicaï¼‰ï¼Œè¾¦ç† SIM å¡æˆ–ç§Ÿå€Ÿ Pocket WiFiï¼Œæ›åŒ¯æ—¥å¹£å‚™ç”¨ã€‚", tips: "æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆåœ°ä¸‹æœ‰ NEX å”®ç¥¨æ©Ÿ", rating: null, lat: 35.7653, lng: 140.3862, cost: "äº¤é€šè²»" },
      { name: "æŠ¼ä¸Šãƒ»æ°‘å®¿ Check-in", type: "ä½å®¿", time: "15:00", duration: "30åˆ†é˜", desc: "ä½å®¿ä½æ–¼æŠ¼ä¸Šï¼ˆæ±äº¬æ™´ç©ºå¡”æ—ï¼‰ï¼Œäº¤é€šä¾¿åˆ©ï¼Œé™„è¿‘æœ‰è¶…å¸‚èˆ‡ä¾¿åˆ©å•†åº—ï¼Œæ˜¯æ·±å…¥åœ¨åœ°ç”Ÿæ´»çš„å¥½é¸æ“‡ã€‚", tips: "æ™´ç©ºå¡”å¤œæ™¯å°±åœ¨é–€å£ï¼Œè¨˜å¾—æ‹ï¼", rating: 4.3, lat: 35.7101, lng: 139.8107, cost: "ä½å®¿è²»" },
      { name: "é™„è¿‘è—¥å¦åº—", type: "è³¼ç‰©", time: "16:30", duration: "1å°æ™‚", desc: "æ¾æœ¬æ¸…ã€SUNDRUG æˆ– Welcia ä»»é¸ï¼Œæ¡è³¼é˜²æ›¬ã€é¢è†œã€é›¶é£Ÿã€è—¥å“ç­‰å¿…è²·å“ï¼Œè¶Šæ—©è²·è¶Šè¼•é¬†ã€‚", tips: "ç¢ºèªå“ªäº›å“é …æœ‰å…ç¨…å„ªæƒ ï¼ˆ5,000å††ä»¥ä¸Šï¼‰", rating: 4.2, lat: 35.7090, lng: 139.8100, cost: "è¦–æ¶ˆè²»" },
      { name: "é¾œæœ‰", type: "åœ¨åœ°å•†åœˆ", time: "18:00", duration: "2å°æ™‚", desc: "ã€Šçƒé¾æ´¾å‡ºæ‰€ã€‹çš„æ•…é„‰ï¼Œå•†åº—è¡—æœ‰é˜¿å…©éŠ…åƒæ‰“å¡é»ï¼Œé€›é€›åœ¨åœ°è¶…å¸‚èˆ‡å±…é…’å±‹ï¼Œæ„Ÿå—æ±äº¬ä¸‹ç”ºåº¶æ°‘é¢¨æƒ…ã€‚", tips: "æ‰¾æ‰¾æ•£è½å„è™•çš„é˜¿å…©ä¸»é¡ŒéŠ…åƒ", rating: 4.2, lat: 35.7649, lng: 139.8468, cost: "è¦–æ¶ˆè²»" },
    ]
  },
  {
    day: 2,
    title: "ç§‹è‘‰åŸ Ã— ç¥ç”° Ã— æ¹¯å³¶",
    theme: "å‹•æ¼«è–åœ° Ã— å­¸å•ä¹‹ç¥",
    color: "#8e44ad",
    note: "ğŸšƒ æŠ¼ä¸Š â†’ ç§‹è‘‰åŸï¼ˆåŠè—é–€ç·šç›´é”ï¼‰ï¼Œæ­¥è¡Œä¸²é€£ç¥ç”°ã€æ¹¯å³¶",
    stops: [
      { name: "ç§‹è‘‰åŸé›»å™¨è¡—", type: "è³¼ç‰© / å‹•æ¼«", time: "10:00", duration: "2.5å°æ™‚", desc: "æ—¥æœ¬é›»å­ Ã— ACG è–åœ°ã€‚Yodobashi Cameraã€æ›¼é”æ‹‰ç§‘ã€KOTOBUKIYA æ¨¡å‹åº—ï¼Œå¥³åƒ•å’–å•¡å»³ä¹Ÿåœ¨é€™è£¡ï¼æ¯å±¤æ¨“éƒ½æœ‰é©šå–œã€‚", tips: "ãƒ¡ã‚¤ãƒ‰ã‚«ãƒ•ã‚§æ¨è–¦ @home cafeï¼Œ11æ¨“æœ‰å…é ç´„åº§ä½", rating: 4.4, lat: 35.6986, lng: 139.7731, cost: "è¦–æ¶ˆè²»" },
      { name: "å¥³åƒ•å’–å•¡å»³é«”é©—", type: "æ–‡åŒ–é«”é©—", time: "12:00", duration: "1å°æ™‚", desc: "ç§‹è‘‰åŸç¨æœ‰çš„å¯æ„›æ–‡åŒ–ï¼Œå¥³åƒ•å€‘ç”¨ã€ŒãŠå¸°ã‚Šãªã•ã„ã¾ã›ã€ã”ä¸»äººæ§˜ï¼ã€è¿æ¥ä½ ï¼Œé»é¤ã€æ‹ç…§ã€ç©å°éŠæˆ²ï¼Œé«”é©—æ»¿æ»¿ã€‚", tips: "æ¶ˆè²»å«æœå‹™è²»ï¼Œç´„Â¥1,500èµ·ï¼›æ‹ç…§éœ€é¡å¤–ä»˜è²»", rating: 4.1, lat: 35.7015, lng: 139.7735, cost: "Â¥1,500ï½" },
      { name: "ç¥ç”°æ˜ç¥ï¼ˆç¥ç”°ç¥ç¤¾ï¼‰", type: "ç¥ç¤¾", time: "14:00", duration: "1å°æ™‚", desc: "æ±äº¬ä¸‰å¤§ç¥­ä¹‹ä¸€ã€Œç¥ç”°ç¥­ã€çš„ä¸»è¾¦ç¥ç¤¾ï¼Œä¾›å¥‰å•†æ¥­ç¹ç››ã€è‰¯ç·£ä¹‹ç¥ï¼Œã€ŠLoveLive!ã€‹è–åœ°å·¡ç¦®å¿…å»ã€‚", tips: "ç¤¾å‹™æ‰€æœ‰å‹•æ¼«è¯åå¾¡å®ˆï¼Œå€¼å¾—æ”¶è—", rating: 4.4, lat: 35.7022, lng: 139.7665, cost: "å…è²»" },
      { name: "æ¹¯å³¶å¤©æ»¿å®®", type: "ç¥ç¤¾", time: "15:30", duration: "45åˆ†é˜", desc: "ç¥­ç¥€å­¸å•ä¹‹ç¥è…åŸé“çœŸï¼Œè€ƒè©¦å­£æ»¿æ»¿ç¹ªé¦¬æ›æ»¿ç¥ˆé¡˜æ¿ï¼Œæ°£æ°›èŠåš´åˆæº«æš–ï¼Œæ¢…èŠ±å­£ç¯€å°¤å…¶ç¾éº—ã€‚", tips: "è²·å€‹å­¸æ¥­å¾¡å®ˆå¸¶å›å»é€äºº", rating: 4.3, lat: 35.7078, lng: 139.7627, cost: "å…è²»" },
      { name: "ä¸Šé‡å‹•ç‰©åœ’", type: "å‹•ç‰©åœ’", time: "16:30", duration: "1.5å°æ™‚", desc: "æ—¥æœ¬ç¬¬ä¸€åº§å‹•ç‰©åœ’ï¼Œæ˜æ˜Ÿæ˜¯å¯æ„›çš„å¤§è²“ç†Šï¼Œå…’ç«¥èˆ‡å¤§äººéƒ½é©åˆã€‚å‚æ™šäººæ½®è¼ƒå°‘ï¼Œæ›´èˆ’é©ã€‚", tips: "é€±ä¸€å…¬ä¼‘ï¼Œå…¥åœ’è‡³16:30ç‚ºæ­¢", rating: 4.2, lat: 35.7154, lng: 139.7717, cost: "Â¥600" },
    ]
  },
  {
    day: 3,
    title: "æ¾€è°· Ã— åŸå®¿ Ã— è¡¨åƒé“",
    theme: "æ½®æµ Ã— æ™‚å°š Ã— ç¥ç¤¾",
    color: "#e74c3c",
    note: "ğŸšƒ æŠ¼ä¸Š â†’ æ¶‰è°·ï¼ˆåŠè—é–€ç·šç›´é”ï¼‰ï¼Œæ²¿ç·šæ­¥è¡Œä¸²è¯å„æ™¯é»",
    stops: [
      { name: "æ¾€è°· 109", type: "è³¼ç‰©", time: "10:00", duration: "1.5å°æ™‚", desc: "æ¾€è°·çš„æµè¡Œæ–‡åŒ–è±¡å¾µï¼Œ10å±¤æ¨“é›†çµæ—¥ç³»å¹´è¼•æ½®æµå“ç‰Œï¼Œæ˜¯èªè­˜ GyaruKei æ–‡åŒ–çš„æœ€ä½³çª—å£ã€‚", tips: "ä¸æ¶ˆè²»ä¹Ÿå¯é€²å»æ„Ÿå—æ°£æ°›", rating: 4.0, lat: 35.6592, lng: 139.6983, cost: "è¦–æ¶ˆè²»" },
      { name: "ç«¹ä¸‹é€š", type: "è³¼ç‰©è¡—", time: "11:30", duration: "1å°æ™‚", desc: "åŸå®¿æœ€ç†±é¬§çš„æ­¥è¡Œè¡—ï¼Œæ»¿æ˜¯å¯æ„›æœé£¾ã€æ£‰èŠ±ç³–ã€å¯éº—é¤…ã€äºŒæ‰‹å¤è‘—ï¼Œæ˜¯æ—¥æœ¬åŸå®¿æ–‡åŒ–çš„ç¸®å½±ã€‚", tips: "é€±æœ«è¶…æ“ ï¼å»ºè­°å¹³æ—¥ä¾†æˆ–æ—©ä¸Š10é»å‰åˆ°", rating: 4.2, lat: 35.6710335, lng: 139.7051821, cost: "è¦–æ¶ˆè²»" },
      { name: "æ˜æ²»ç¥å®®", type: "ç¥ç¤¾", time: "13:00", duration: "1å°æ™‚", desc: "é¬±é¬±è”¥è”¥çš„æ£®æ—æ­¥é“é€šå¾€ç¥å®®æœ¬æ®¿ï¼Œä¾›å¥‰æ˜æ²»å¤©çš‡ï¼Œæ˜¯æ±äº¬æœ€å…·ä»£è¡¨æ€§çš„éˆæ€§ç©ºé–“ã€‚", tips: "æ—©åˆ°å¯ä»¥çœ‹è¦‹æœ¬æ®¿çš„æ›ç­ç¥è·äººå“¡å„€å¼", rating: 4.6, lat: 35.6763976, lng: 139.6993259, cost: "å…è²»" },
      { name: "è¡¨åƒé“", type: "æ™‚å°šè¡—å€", time: "14:30", duration: "1.5å°æ™‚", desc: "æ±äº¬æœ€ç²¾ç·»çš„æ—è”­å¤§é“ï¼ŒLOUIS VUITTONã€Pradaã€Tod's æ——è‰¦åº—æ—ç«‹ï¼Œå®‰è—¤å¿ é›„è¨­è¨ˆçš„è¡¨åƒé“ Hills å€¼å¾—ä¸€é€›ã€‚", tips: "è¡¨åƒé“Hillsåœ°ä¸‹ä¸‰å±¤æœ‰ç‰¹åˆ¥å±•è¦½ç©ºé–“", rating: 4.4, lat: 35.6654, lng: 139.7124, cost: "è¦–æ¶ˆè²»" },
      { name: "æ¾€è°· SKYï¼ˆæ¾€è°·å¤©ç©ºï¼‰", type: "å±•æœ›å°", time: "17:30", duration: "1.5å°æ™‚", desc: "æ¾€è°· Scramble Square 46 æ¨“çš„å®¤å¤–å±•æœ›å°ï¼Œå¯ 360 åº¦ä¿¯ç°æ±äº¬å…¨æ™¯ï¼Œå¤•é™½è½‰å¤œæ™¯æ˜¯å…¨ç¨‹æœ€é«˜æ½®ï¼", tips: "å‹™å¿…æå‰å®˜ç¶²è¨‚ç¥¨ï¼Œé»ƒæ˜å…¥å ´æœ€åˆ’ç®—ï¼ˆæ—¥å¤œå…©çœ‹ï¼‰", rating: 4.6, lat: 35.6582, lng: 139.7023, cost: "Â¥2,000" },
      { name: "æ¶‰è°·åå­—è·¯å£ å¤œé–“", type: "åœ°æ¨™", time: "19:30", duration: "30åˆ†é˜", desc: "ç™½å¤©èˆ‡å¤œæ™šå„æœ‰ä¸åŒé¢¨æƒ…ï¼Œéœ“è™¹ç‡ˆä¸‹è¬äººé½Šæ­¥çš„éœ‡æ’¼å ´é¢æ˜¯æ±äº¬çš„ä»£åè©ï¼Œå®Œç¾çµæŸä»Šæ—¥è¡Œç¨‹ã€‚", tips: "å¿ çŠ¬å…«å…¬åƒæ—é‚Šå°±æ˜¯æœ€ä½³æ‹ç…§è§’åº¦", rating: 4.5, lat: 35.659482, lng: 139.7005596, cost: "å…è²»" },
    ]
  },
  {
    day: 4,
    title: "æ·ºè‰ Ã— è—å‰ Ã— åæ¢æ¹¯",
    theme: "ä¸‹ç”ºé¢¨æƒ… Ã— éŒ¢æ¹¯é«”é©—",
    color: "#d4a854",
    note: "ğŸš¶ æŠ¼ä¸Šæ­¥è¡Œè‡³æ·ºè‰ï¼ˆç´„20åˆ†é˜ï¼‰ï¼Œæ˜¯é„°è¿‘ä½å®¿çš„ç²¾è¯ä¸€æ—¥éŠ",
    stops: [
      { name: "æ·ºè‰å¯º", type: "ç¥ç¤¾å¯ºå»Ÿ", time: "08:00", duration: "1.5å°æ™‚", desc: "æ±äº¬æœ€å¤è€ã€æœ€è‘—åçš„å¯ºå»Ÿï¼Œé›·é–€å¤§ç‡ˆç± æ˜¯çµ•å°å¿…æ‹ï¼Œä»²è¦‹ä¸–é€šè€è¡—å…©æ—æ»¿æ˜¯å‚³çµ±ä¼´æ‰‹ç¦®èˆ‡å°åƒã€‚", tips: "æ—©æ™¨8é»å‰äººæœ€å°‘ï¼Œå…‰ç·šæœ€ç¾ï¼Œé©åˆæ‹ç…§", rating: 4.5, lat: 35.7147651, lng: 139.7966553, cost: "å…è²»" },
      { name: "æ·ºè‰èŠ±å±‹æ•·ï¼ˆèŠ±ç«å¤§æœƒï¼‰", type: "æ–‡åŒ–é«”é©—", time: "09:30", duration: "1å°æ™‚", desc: "è‹¥æ—…éŠæœŸé–“é©é€¢éš…ç”°å·èŠ±ç«å¤§æœƒï¼ˆæ¯å¹´7æœˆæœ€å¾Œä¸€å€‹é€±å…­ï¼‰ï¼Œå¾æ·ºè‰å‘¨é‚Šå¯ä»¥æ¬£è³åˆ°çµ¢çˆ›ç…™ç«ï¼Œæ˜¯æ±äº¬æœ€å¤§å‹çš„å¤æ—¥ç¥­å…¸ã€‚", tips: "èŠ±ç«å¤§æœƒäººè¶…å¤šï¼Œå»ºè­°ææ—©4å°æ™‚ä½”ä½", rating: 4.7, lat: 35.7130, lng: 139.7920, cost: "å…è²»" },
      { name: "è—å‰", type: "æ–‡é’è¡—å€", time: "11:00", duration: "2å°æ™‚", desc: "è¿‘å¹´æ±äº¬æœ€ç«ç´…çš„æ‰‹å·¥è—äººè¡—å€ï¼Œè€å€‰åº«æ”¹å»ºçš„å€‹æ€§å’–å•¡å»³ã€çš®é©è·äººå·¥æˆ¿ã€æ–‡å…·é¸ç‰©åº—å¯†åº¦è¶…é«˜ï¼Œé©åˆæ…¢æ…¢é€›ã€‚", tips: "Nui Hostel é™„è¿‘çš„å°å··å­æŒ–å¯¶æœ€æœ‰è¶£", rating: 4.3, lat: 35.7092, lng: 139.7892, cost: "è¦–æ¶ˆè²»" },
      { name: "ç¯‰åœ°å¸‚å ´ Ã— æ­Œèˆä¼åº§", type: "ç¾é£Ÿ / æ–‡åŒ–", time: "14:00", duration: "2å°æ™‚", desc: "ç¯‰åœ°å¤–å¸‚å ´åˆå¾Œä»æœ‰æ–°é®®æµ·é®®å¯è²·ï¼Œé™„è¿‘çš„æ­Œèˆä¼åº§æ˜¯æ±äº¬å‚³çµ±è¡¨æ¼”è—è¡“æ®¿å ‚ï¼Œå¤–è§€æœ¬èº«å°±æ˜¯æ‰“å¡äº®é»ã€‚", tips: "æ­Œèˆä¼åº§ä¸€å¹•é‘‘è³ç¥¨ï¼ˆå¹•è¦‹å¸­ï¼‰ç´„Â¥1,000èµ·ï¼Œä¸çœ‹è¡¨æ¼”æ‹å¤–è§€ä¹Ÿå€¼å¾—", rating: 4.3, lat: 35.6684, lng: 139.7702, cost: "è¦–æ¶ˆè²»" },
      { name: "åæ¢æ¹¯ï¼ˆéŠ­æ¹¯ï¼‰", type: "æ–‡åŒ–é«”é©—", time: "19:00", duration: "1.5å°æ™‚", desc: "é¸æ“‡æŠ¼ä¸Š / æ·ºè‰å‘¨é‚Šçš„è€å­—è™ŸéŒ¢æ¹¯ï¼Œé«”é©—æ—¥æœ¬é“åœ°æ¾¡å ‚æ–‡åŒ–ã€‚é«˜æº«æµ´ã€æ°´é¢¨å‘‚ï¼ˆå†·æ°´æµ´ï¼‰è¼ªæµæ³¡ï¼Œèº«å¿ƒå¤§æ”¾é¬†ã€‚", tips: "æ”œå¸¶æ¯›å·¾èˆ‡æ²æµ´ç”¨å“ï¼Œæµ´å·¾ç¾å ´å¯ç§Ÿï¼›å…¥æµ´è²»ç´„Â¥500", rating: 4.4, lat: 35.7778, lng: 139.7198, cost: "Â¥500" },
    ]
  },
  {
    day: 5,
    title: "æ± è¢‹ Ã— å¤ªé™½åŸ Ã— é˜¿ä½è°·",
    theme: "å‹•æ¼«å¤©å ‚ Ã— åœ¨åœ°ç¥ç¤¾",
    color: "#2c6e7a",
    note: "ğŸšƒ æŠ¼ä¸Š â†’ æ± è¢‹ï¼ˆæœ‰æ¨‚ç”ºç·šï¼‰ï¼Œå†è½‰ä¸­å¤®ç·šè‡³é˜¿ä½è°·",
    stops: [
      { name: "æ± è¢‹ æ±å£å•†åœˆ", type: "è³¼ç‰© / å‹•æ¼«", time: "10:00", duration: "1.5å°æ™‚", desc: "æ¯”ç§‹è‘‰åŸæ›´åœ¨åœ°çš„å‹•æ¼«è–åœ°ï¼Œä¹™å¥³ä¹‹é“ä¸Šæœ‰å¤§é‡è²å„ªã€BLã€å¥³æ€§å‘å•†å“ã€‚ANIMATE ç¸½æœ¬åº—å°±åœ¨é€™è£¡ï¼", tips: "ä¹™å¥³Road æŒ‡çš„æ˜¯å—æ± è¢‹ä¸€å¸¶å··å¼„", rating: 4.3, lat: 35.7313, lng: 139.7200, cost: "è¦–æ¶ˆè²»" },
      { name: "æ± è¢‹å¤ªé™½åŸ (Sunshine City)", type: "ä¸»é¡Œè¨­æ–½", time: "11:30", duration: "3å°æ™‚", desc: "è¶…å¤§å‹è³¼ç‰©ä¸­å¿ƒ + æ°´æ—é¤¨ + å±•æœ›å° + å„ç¨®ä¸»é¡Œå±•ï¼Œå¸¸æœ‰æœŸé–“é™å®šå‹•æ¼«ç‰¹å±•ï¼å£è¢‹ç¥å¥‡å¯¶è²ä¸­å¿ƒä¹Ÿåœ¨é€™è£¡ã€‚", tips: "ç¥å¥‡å¯¶è²ä¸­å¿ƒ Mega Tokyo æ˜¯äºæ´²æœ€å¤§ï¼Œå¿…é€›ï¼", rating: 4.4, lat: 35.7291, lng: 139.7183, cost: "è¦–æ¶ˆè²»(å„è¨­æ–½å¦è¨ˆ)" },
      { name: "æ± è¢‹è¥¿æ­¦ / Parco", type: "è³¼ç‰©", time: "14:30", duration: "1å°æ™‚", desc: "æ± è¢‹è¥¿å£çš„ Parco èˆ‡æ±å£çš„è¥¿æ­¦ç™¾è²¨ï¼Œé›†çµæ—¥æœ¬æ½®æµå“ç‰Œï¼ŒParco B1 æœ‰å¤§é‡å‹•æ¼«è¯åå¿«é–ƒåº—ã€‚", tips: "Parco åœ°ä¸‹ååº—è¡—æœ‰ä¸å°‘æ€§åƒ¹æ¯”é«˜çš„åˆé¤é¸é …", rating: 4.2, lat: 35.7300, lng: 139.7121, cost: "è¦–æ¶ˆè²»" },
      { name: "é˜¿ä½è°·ç¥æ˜å®®", type: "ç¥ç¤¾", time: "16:30", duration: "45åˆ†é˜", desc: "ä»¥å¯æ„›çš„å¯å…”å¾¡å®ˆèåå…¨æ—¥æœ¬ï¼Œç´™é›•è—è¡“å¸«æ‰‹å·¥è£½ä½œçš„ç™½å…”ç±¤è©©è¶…ç²¾ç·»ï¼Œæ˜¯å°çœ¾å¾¡å®ˆè¿·å¿…è¨ªçš„å¯¶åœ°ã€‚", tips: "é™å®šç‰ˆå¯å…”å¾¡å®ˆå¸¸å¸¸å”®ç½„ï¼Œæ—©é»å»ï¼", rating: 4.5, lat: 35.7056, lng: 139.6397, cost: "å…è²»" },
      { name: "é˜¿ä½è°·å•†åº—è¡— & æ™šé¤", type: "åœ¨åœ°è¡—å€", time: "17:30", duration: "1.5å°æ™‚", desc: "å……æ»¿æ˜­å’Œé¢¨æƒ…çš„æ‹±å»Šå•†åº—è¡—ï¼Œå±…é…’å±‹ã€ç‚¸ä¸²ã€å€‹æ€§å°åº—é›²é›†ï¼Œæ˜¯æ±äº¬æœ€æœ‰äººæƒ…å‘³çš„åœ¨åœ°å•†åœˆä¹‹ä¸€ã€‚", tips: "æ‹±å»Šå…§çš„ä¸²ç‡’å±…é…’å±‹æ€§åƒ¹æ¯”è¶…é«˜", rating: 4.2, lat: 35.7054, lng: 139.6364, cost: "è¦–æ¶ˆè²»" },
    ]
  },
  {
    day: 6,
    title: "éŒå€‰ä¸€æ—¥éŠ",
    theme: "å¤éƒ½æ¼«æ­¥ Ã— æµ·å²¸é¢¨æƒ…",
    color: "#27ae60",
    note: "ğŸšƒ æŠ¼ä¸Š â†’ å“å· â†’ å¤§èˆ¹ â†’ éŒå€‰ï¼ˆç´„1.5å°æ™‚ï¼‰ï¼›å»ºè­°7é»å‡ºç™¼é¿é–‹äººæ½®",
    stops: [
      { name: "é¶´å²¡å…«å¹¡å®®", type: "ç¥ç¤¾", time: "09:00", duration: "1å°æ™‚", desc: "éŒå€‰æœ€é‡è¦çš„ç¥ç¤¾ï¼Œå¾å°ç”ºé€šèµ°é€²å»ï¼Œå®å‰çš„çŸ³æŸ±å¤§é“ï¼ˆæ®µè‘›ï¼‰å…©æ—æ˜¯æ«»èŠ±æ¨¹ï¼Œæœ¬æ®¿å¯ä¿¯ç°æ•´å€‹éŒå€‰ã€‚", tips: "ç¥ç¤¾å…§æœ‰éŒå€‰åœ‹å¯¶é¤¨ï¼Œå–œæ­¡æ–‡ç‰©çš„å¿…é€²", rating: 4.4, lat: 35.3238, lng: 139.5564, cost: "å…è²»" },
      { name: "å°ç”ºé€š", type: "ç¾é£Ÿ / è³¼ç‰©", time: "10:00", duration: "1å°æ™‚", desc: "éŒå€‰æœ€ç†±é¬§çš„åƒé“å•†åº—è¡—ï¼Œç´«èŠ‹å¯æ¨‚é¤…ã€é´¿å­é¤…ä¹¾ã€éŒå€‰é›•åˆ»å·¥è—å“ã€æŠ¹èŒ¶ç”œé»ä¸€å­—æ’é–‹ã€‚", tips: "é³©ã‚µãƒ–ãƒ¬ãƒ¼ï¼ˆé´¿å­é¤…ä¹¾ï¼‰æ˜¯å¿…è²·ä¼´æ‰‹ç¦®", rating: 4.3, lat: 35.3245, lng: 139.5519, cost: "è¦–æ¶ˆè²»" },
      { name: "å ±åœ‹å¯ºï¼ˆç«¹æ—å¯ºï¼‰", type: "å¯ºå»Ÿ", time: "11:30", duration: "1å°æ™‚", desc: "ã€Œç«¹çš„åº­é™¢ã€èåï¼Œå¤§ç‰‡ç¿ ç¶ ç«¹æ—ä¸­é£„æ•£è‘—éœè¬ç¦ªæ„ï¼Œå¯åœ¨èŒ¶å®¤å“æŠ¹èŒ¶ï¼Œæ„Ÿå—éŒå€‰å¦ä¸€ç¨®ç¾ã€‚", tips: "æ‹ç«¹æ—æœ€ä½³æ™‚é–“æ˜¯ä¸Šåˆå…‰ç·šæ–œå°„æ™‚", rating: 4.5, lat: 35.3222, lng: 139.5755, cost: "Â¥500" },
      { name: "éŒå€‰å¤§ä½›ï¼ˆé«˜å¾·é™¢ï¼‰", type: "æ­·å²æ–‡ç‰©", time: "13:30", duration: "1å°æ™‚", desc: "é«˜13.35å…¬å°ºçš„éœ²å¤©é’éŠ…å¤§ä½›ï¼Œè‡ª1252å¹´å±¹ç«‹è‡³ä»Šï¼Œæ˜¯éŒå€‰æœ€å…·ä»£è¡¨æ€§çš„æ–‡åŒ–éºç”£ï¼Œä¹Ÿæ˜¯æ—¥æœ¬é‡è¦æ–‡åŒ–è²¡ã€‚", tips: "å¯å…¥å¤§ä½›å…§éƒ¨åƒè§€ï¼ˆÂ¥50ï¼‰ï¼Œç©ºé–“å¾ˆå°ä½†é«”é©—é›£å¿˜", rating: 4.6, lat: 35.3169, lng: 139.5352, cost: "Â¥300" },
      { name: "é•·è°·å¯º", type: "å¯ºå»Ÿ", time: "15:00", duration: "1å°æ™‚", desc: "éŒå€‰æœ€ç¾çš„èŠ±å‰å¯ºé™¢ï¼Œå››å­£è¼ªæ›¿çš„ç¹¡çƒèŠ±ã€æ¢…èŠ±ã€ç‰¡ä¸¹ï¼ŒåŠ ä¸Šå¯ä¿¯ç°ç”±æ¯”æ¿±æµ·å²¸çš„å±•æœ›å°ï¼Œæ™¯è‰²çµ•ç¾ã€‚", tips: "ç¹¡çƒèŠ±å­£ï¼ˆ6æœˆï¼‰éœ€æå‰è¨‚åƒè§€ç¥¨", rating: 4.5, lat: 35.3162, lng: 139.5346, cost: "Â¥400" },
      { name: "ç”±æ¯”æ¿± / ææœ¨åº§æµ·å²¸", type: "æµ·ç˜", time: "16:30", duration: "1å°æ™‚", desc: "éŒå€‰çš„æµ·å²¸ç·šï¼Œå‚æ™šé™½å…‰ç‘åœ¨å¤ªå¹³æ´‹æµ·é¢ä¸Šï¼Œå¤å¤©æœ‰æµ·æ°´æµ´å ´ï¼Œç§‹å†¬ä¹Ÿæœ‰è¡æµªå®¢ï¼Œæ˜¯ä¸€å¹…ç¾éº—çš„é¢¨æ™¯ç•«ã€‚", tips: "æµ·å²¸æ—çš„æ±Ÿä¹‹é›»é›»è»Šé…ä¸Šå¤•é™½æ˜¯çµ•ä½³å–æ™¯è§’åº¦", rating: 4.4, lat: 35.3116, lng: 139.5393, cost: "å…è²»" },
    ]
  },
  {
    day: 7,
    title: "éŠ€åº§ Ã— æ±äº¬éµå¡” Ã— å¸‚è°·",
    theme: "å„ªé›…å‘Šåˆ¥ Ã— åŸå¸‚åœ°æ¨™",
    color: "#c0392b",
    note: "ğŸ  é€€æˆ¿æ—¥ï¼Œè¡Œæå¯å¯„æ”¾æ°‘å®¿ï¼›ä¸‹åˆå‰å¾€æ©Ÿå ´å‰é€›éŠ€åº§ã€æ±äº¬éµå¡”",
    stops: [
      { name: "ç¯‰åœ°å¤–å¸‚å ´ï¼ˆæ—©é¤ï¼‰", type: "ç¾é£Ÿ", time: "08:00", duration: "1å°æ™‚", desc: "æœ€å¾Œä¸€å€‹æ—©æ™¨ï¼Œç”¨é ‚ç´šæµ·é®®å£½å¸æˆ–é®ªé­šä¸¼æ”¶å°¾ï¼Œæµ·è†½ã€é®­é­šåµã€é°»é­šï¼Œä»¥æœ€ç¾å‘³çš„æ–¹å¼é“åˆ¥æ±äº¬ã€‚", tips: "é€±æ—¥éƒ¨åˆ†æ”¤ä½å…¬ä¼‘ï¼Œæå‰æŸ¥è©¢", rating: 4.3, lat: 35.6647703, lng: 139.7702515, cost: "è¦–æ¶ˆè²»" },
      { name: "æµœé›¢å®®æ©è³œåº­åœ’", type: "åº­åœ’", time: "09:30", duration: "1å°æ™‚", desc: "æ±Ÿæˆ¶æ™‚ä»£å¾·å·å°‡è»çš„è³æœˆåº­åœ’ï¼Œè¢«é«˜æ¨“å¤§å»ˆç’°ç¹çš„å‚³çµ±æ—¥å¼æ½®å…¥åº­åœ’ï¼Œæ˜¯æ±äº¬æœ€çè²´çš„éƒ½å¿ƒç¶ æ´²ä¹‹ä¸€ã€‚", tips: "æ½®å…¥æ± ï¼ˆæµ·æ°´åº­æ± ï¼‰å…¨çƒç½•è¦‹ï¼Œæ¼²é€€æ½®æ™‚æ™¯è‰²å„ç•°", rating: 4.4, lat: 35.6594, lng: 139.7630, cost: "Â¥300" },
      { name: "æ­Œèˆä¼åº§ Ã— éŠ€åº§", type: "è³¼ç‰© / æ–‡åŒ–", time: "11:00", duration: "2å°æ™‚", desc: "éŠ€åº§ä¸­å¤®é€šé€±æ—¥é™è¡Œè»Šè¼›ï¼Œå¯æ„œæ„æ•£æ­¥ã€‚æ­Œèˆä¼åº§å¤–è§€å£¯éº—ï¼Œé€²å¡”æ¨“è²·ç´€å¿µå“ï¼›éŠ€åº§ Itoya æ–‡å…·åº—æ˜¯æ±äº¬æœ€ç¾çš„æ–‡å…·æ®¿å ‚ã€‚", tips: "éŠ€åº§ Itoyaï¼ˆä¼Šæ±å±‹ï¼‰12å±¤æ¨“çš„æ–‡å…·ç‹åœ‹ä¸å¯éŒ¯é", rating: 4.4, lat: 35.6717, lng: 139.7659, cost: "è¦–æ¶ˆè²»" },
      { name: "å¸‚è°·é¾œå²¡å…«å¹¡å®®", type: "ç¥ç¤¾", time: "13:30", duration: "30åˆ†é˜", desc: "æ±Ÿæˆ¶æ™‚ä»£å‰µå»ºçš„å°è€Œç²¾ç·»çš„ç¥ç¤¾ï¼Œä»¥å¯µç‰©ç¥ˆç¦èåï¼Œä¹Ÿæ˜¯ç‰¹è‰²å°çœ¾å¾¡å®ˆæ”¶è—åœ°ã€‚é™„è¿‘æ˜¯æ—¥æœ¬é˜²è¡›çœæ‰€åœ¨åœ°ã€‚", tips: "èˆ‡ä¸‰å³¶ç”±ç´€å¤«çš„æ­·å²æœ‰é—œï¼Œæ˜¯æ–‡åŒ–æ„›å¥½è€…çš„éš±ç§˜æ™¯é»", rating: 4.1, lat: 35.6918, lng: 139.7338, cost: "å…è²»" },
      { name: "æ±äº¬éµå¡”", type: "åœ°æ¨™", time: "15:00", duration: "1.5å°æ™‚", desc: "1958å¹´å»ºé€ çš„æœ±ç´…è‰²éµå¡”ï¼Œæ˜¯æ˜­å’Œæ±äº¬çš„æ°¸æ†è±¡å¾µã€‚150å…¬å°ºä¸»å±•æœ›å°å¯ä¿¯ç°éƒ½å¿ƒï¼Œæ™´å¤©å¯è¦‹å¯Œå£«å±±ã€‚", tips: "å¤•é™½æ™‚åˆ†å¾èŠå…¬åœ’ä»°è§’æ‹éµå¡”ï¼Œæ¯”åœ¨å±•æœ›å°æ›´ç¾", rating: 4.5, lat: 35.6586, lng: 139.7454, cost: "Â¥1,200" },
      { name: "æŠ¼ä¸Š Check-out â†’ å‰å¾€æ©Ÿå ´", type: "äº¤é€š", time: "18:00", duration: "ç§»å‹•", desc: "å–å›è¡Œæï¼Œæ­ä¹˜æˆç”°ç‰¹æ€¥ï¼ˆNEXï¼‰æˆ–äº¬æˆ Skyliner å‰å¾€æˆç”°æ©Ÿå ´ï¼ŒçµæŸç¾å¥½çš„æ±äº¬7æ—¥ä¹‹æ—…ã€‚", tips: "Skyliner æœ€å¿«ï¼ˆ41åˆ†é˜ï¼‰ï¼ŒNEX å¯ç›´é”æ–°å®¿æ± è¢‹", rating: null, lat: 35.7101, lng: 139.8107, cost: "Â¥2,570" },
    ]
  }
];

let currentDay = 0;
let currentStop = 0;
let map = null;
let markers = [];
let routeLine = null;

function initMap() {
  map = L.map('leaflet-map', { zoomControl: true, attributionControl: false })
         .setView([35.6762, 139.6503], 12);

  // CartoDB Positron â€” clean light basemap
  L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
    maxZoom: 19,
    subdomains: 'abcd'
  }).addTo(map);

  L.control.attribution({ prefix: 'Â© OpenStreetMap Â© CARTO' }).addTo(map);
}

function clearMap() {
  markers.forEach(m => map.removeLayer(m));
  markers = [];
  if (routeLine) { map.removeLayer(routeLine); routeLine = null; }
}

function showDayOnMap(dayIdx) {
  if (!map) return;
  clearMap();
  const day = ITINERARY[dayIdx];
  const latlngs = [];

  day.stops.forEach((stop, i) => {
    const isActive = i === currentStop;

    // Custom numbered marker
    const html = `<div style="
      background:${day.color};
      color:#fff;
      width:${isActive ? 34 : 28}px;
      height:${isActive ? 34 : 28}px;
      border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      font-size:${isActive ? 13 : 11}px;font-weight:700;
      border:${isActive ? 3 : 2}px solid #fff;
      box-shadow:0 2px ${isActive ? 12 : 6}px rgba(0,0,0,${isActive ? 0.6 : 0.35});
      cursor:pointer;
      transition:all .2s;
    ">${i + 1}</div>`;

    const icon = L.divIcon({ html, className: '', iconSize: [isActive ? 34 : 28, isActive ? 34 : 28], iconAnchor: [isActive ? 17 : 14, isActive ? 17 : 14] });

    const m = L.marker([stop.lat, stop.lng], { icon })
      .addTo(map)
      .bindPopup(`<strong>${stop.name}</strong><br><small>${stop.time} Â· ${stop.type}</small>`, { className: 'dark-popup', offset: [0, -8] });

    m.on('click', () => {
      currentStop = i;
      highlightStop(i);
      updateMapFooter(dayIdx, i);
      updateChipsActive(i);
      showDayOnMap(dayIdx); // re-render markers to update active size
    });

    markers.push(m);
    latlngs.push([stop.lat, stop.lng]);
  });

  // Dashed route polyline
  if (latlngs.length > 1) {
    routeLine = L.polyline(latlngs, {
      color: day.color, weight: 2.5, opacity: 0.55, dashArray: '6,9'
    }).addTo(map);
  }

  // Fit bounds or focus active stop
  if (latlngs.length > 0) {
    map.fitBounds(latlngs, { padding: [48, 48], maxZoom: 15 });
  }

  // Open popup on active stop
  if (markers[currentStop]) {
    setTimeout(() => markers[currentStop].openPopup(), 300);
  }
}

function focusStop(dayIdx, stopIdx) {
  if (!map || !markers[stopIdx]) return;
  const stop = ITINERARY[dayIdx].stops[stopIdx];
  map.flyTo([stop.lat, stop.lng], 16, { duration: 0.7 });
  setTimeout(() => markers[stopIdx].openPopup(), 750);
  updateMapFooter(dayIdx, stopIdx);
}

function updateMapFooter(dayIdx, stopIdx) {
  const stop = ITINERARY[dayIdx].stops[stopIdx];
  document.getElementById('mapFooterName').textContent = `${stopIdx + 1}. ${stop.name}`;
  document.getElementById('mapFooterLink').href =
    `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(stop.name + ' Tokyo')}`;
}

function updateChipsActive(stopIdx) {
  document.querySelectorAll('.map-chip').forEach((c, i) => c.classList.toggle('active', i === stopIdx));
}

function renderMapChips(dayIdx) {
  const day = ITINERARY[dayIdx];
  const chips = document.getElementById('mapChips');
  chips.innerHTML = day.stops.map((s, i) => `
    <button class="map-chip ${i === 0 ? 'active' : ''}" onclick="onChipClick(${i})">
      ${i + 1}. ${s.name.length > 9 ? s.name.substring(0, 9) + 'â€¦' : s.name}
    </button>
  `).join('');
}

function onChipClick(stopIdx) {
  currentStop = stopIdx;
  updateChipsActive(stopIdx);
  highlightStop(stopIdx);
  showDayOnMap(currentDay);
  focusStop(currentDay, stopIdx);
  const el = document.getElementById(`stop-${stopIdx}`);
  if (el) el.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function highlightStop(idx) {
  document.querySelectorAll('.stop-item').forEach((el, i) => el.classList.toggle('active', i === idx));
}

function renderOverview() {
  const strip = document.getElementById('overviewStrip');
  strip.innerHTML = ITINERARY.map((d, i) => `
    <div class="overview-day ${i === 0 ? 'active' : ''}" onclick="switchDay(${i})" id="ov-${i}">
      <div class="overview-day-num">DAY ${d.day}</div>
      <div class="overview-day-name">${d.title}</div>
      <div class="overview-day-theme">${d.theme}</div>
    </div>
    ${i < ITINERARY.length - 1 ? '<div class="overview-divider"></div>' : ''}
  `).join('');
}

function renderNav() {
  const nav = document.getElementById('stickyNav');
  const tabs = ITINERARY.map((d, i) => `
    <button class="day-tab ${i === 0 ? 'active' : ''}" onclick="switchDay(${i})" id="tab-${i}">
      DAY ${d.day} Â· ${d.title}
    </button>
  `).join('');
  nav.innerHTML = `<span class="nav-brand">æ±äº¬ Â· 7æ—¥</span>` + tabs;
}

function renderItinerary(dayIdx) {
  const day = ITINERARY[dayIdx];
  const panel = document.getElementById('itineraryPanel');

  const stopsHtml = day.stops.map((s, i) => `
    <div class="stop-item" onclick="onStopClick(${i})" id="stop-${i}">
      <div class="stop-timeline">
        <div class="stop-dot"></div>
        <div class="stop-time">${s.time}</div>
      </div>
      <div class="stop-card">
        <div class="stop-card-top">
          <div class="stop-name">${s.name}</div>
          <div class="stop-type-badge">${s.type}</div>
        </div>
        <div class="stop-desc">${s.desc}</div>
        <div class="stop-meta">
          <div class="stop-meta-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            ${s.duration}
          </div>
          <div class="stop-meta-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
            ${s.cost}
          </div>
          ${s.rating ? `<div class="stop-meta-item"><span class="stop-rating">â˜… ${s.rating}</span></div>` : ''}
          <div class="stop-meta-item" style="color:${day.color};font-size:0.7rem;">ğŸ’¡ ${s.tips}</div>
        </div>
      </div>
    </div>
  `).join('');

  panel.innerHTML = `
    <div class="day-header">
      <div class="day-number">${String(day.day).padStart(2,'0')}</div>
      <div class="day-info">
        <h2>${day.title}</h2>
        <p>ç¬¬ ${day.day} å¤© Â· ${day.stops.length} å€‹æ™¯é»</p>
      </div>
      <div class="day-theme-badge">${day.theme}</div>
    </div>
    ${day.note ? `<div class="day-note">${day.note}</div>` : ''}
    <div class="accom-banner">ğŸ  ä½å®¿ï¼šæŠ¼ä¸Šï¼ˆæ±äº¬æ™´ç©ºå¡”å‘¨é‚Šï¼‰Â· ç¬¬ ${day.day <= 6 ? day.day : 6} å¤œ</div>
    <div class="stops-list">${stopsHtml}</div>
  `;
}

function onStopClick(idx) {
  currentStop = idx;
  highlightStop(idx);
  updateChipsActive(idx);
  showDayOnMap(currentDay);
  focusStop(currentDay, idx);
  const chip = document.querySelectorAll('.map-chip')[idx];
  if (chip) chip.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
  document.querySelector('.map-panel').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function switchDay(dayIdx) {
  currentDay = dayIdx;
  currentStop = 0;
  document.querySelectorAll('.day-tab').forEach((tab, i) => tab.classList.toggle('active', i === dayIdx));
  document.querySelectorAll('.overview-day').forEach((el, i) => el.classList.toggle('active', i === dayIdx));
  renderItinerary(dayIdx);
  renderMapChips(dayIdx);
  showDayOnMap(dayIdx);
  updateMapFooter(dayIdx, 0);
  document.getElementById('itineraryPanel').scrollTop = 0;
}

// Init
document.addEventListener('DOMContentLoaded', () => {
  renderOverview();
  renderNav();
  renderItinerary(0);
  initMap();
  renderMapChips(0);
  showDayOnMap(0);
  updateMapFooter(0, 0);
});
</script>

</body>
</html>
